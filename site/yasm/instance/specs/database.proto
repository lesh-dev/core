syntax="proto3";
package yasm.database;

import "lib/database.options.proto";

message Person {
    option (yasm.lib.database.db_table) = true;
    uint64 person_id = 1 [(yasm.lib.database.primary_key) = true];
    string first_name = 2;
}

enum RegularEnum {
    Z = 0;
    X = 1;
    C = 5;
}

message Message {

}

message Course {
    enum NestedEnum {
        A = 0;
        B = 1;
        C = 2;
    }
    message Message {

    }
    message NestedMessage {
        map<string, RegularEnum> f1 = 1;
        map<string, NestedEnum> f2 = 2;
        map<uint64, string> f3 = 3;
    }
    uint64 course_id = 1;
    string course_name = 2;
    repeated string s = 3;
}

message CourseTeacher {
    Person person = 1 [
                      (yasm.lib.database.foreign_key_table) = "Person",
                      (yasm.lib.database.foreign_key_field) = "person_id"
                      ];
    Course course = 2 [
                      (yasm.lib.database.foreign_key_table) = "Course",
                      (yasm.lib.database.foreign_key_field) = "course_id"
                      ];
}